(this["webpackJsonpdhg-workflow"]=this["webpackJsonpdhg-workflow"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var c=n(2),o=n.n(c),a=n(14),i=n.n(a),r=(n(25),n(26),n(17)),s=n(12),d=n(3),l=n(4),h=n(8),u=n(9),j=n(20),x=n(18),b=n(5),y=n.n(b),g=n(15),v=n.n(g),f=n(16),O=n.n(f),m=n(19),p=[{selector:'node[type = "ordin"]',style:{width:100,height:50,shape:"rectangle",content:"data(name)","background-color":"#fff","border-color":"#000","border-width":3,"text-valign":"center","text-halign":"center"}},{selector:"edge",style:{"curve-style":"bezier","target-arrow-shape":"triangle","border-color":"#000","background-color":"#fff",width:4,"line-color":"#000","target-arrow-color":"#000"}},{selector:"edge[label]",style:{label:"data(label)",width:3,"edge-text-rotation":"autorotate","text-margin-y":"10px"}},{selector:".eh-handle",style:{"background-color":"#f00",height:20,width:20,opacity:.5}},{selector:'node[type="special"]',style:{width:10,height:10,backgroundColor:"red"}}],w={style:Object(m.a)(p),zoomingEnabled:!1,userZoomingEnabled:!1},k=n(13);var N=new(function(){function t(){Object(h.a)(this,t)}return Object(u.a)(t,[{key:"setCy",value:function(t){this.cy=t,window.cyx=t}},{key:"addTestData",value:function(){return this}},{key:"addNode",value:function(t,e,n,c,o,a){var i=o||(new Date).getTime();console.log(t,n,i),this.cy.add({group:"nodes",data:Object(l.a)({id:i,name:t,type:n},a),style:e,position:c})}},{key:"adE2",value:function(t,e,n,c){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.cy.add({group:"edges",data:{source:t,target:e,label:n},style:Object(l.a)(Object(l.a)({},o),{},{"line-color":c,"target-arrow-color":c})})}},{key:"getRealNode",value:function(t){return this.cy.$("#".concat(t)).incomers().filter("node")[0]}},{key:"addAutoMove",value:function(t,e){this.cy.automove({nodesMatching:t,reposition:"drag",dragWith:e}),this.cy.automove({nodesMatching:t,reposition:function(t){var n=t.position(),c=e.position(),o=[e.height(),e.width()],a=o[0],i=o[1],r={y:c.y+a/2,x:c.x+i/2},s={y:c.y-a/2,x:c.x-i/2};if(n.x=Math.min(r.x,Math.max(n.x,s.x)),n.y=Math.min(r.y,Math.max(n.y,s.y)),n.x<r.x&&n.y<r.y&&n.x>s.x&&n.y>s.y){var d=[[Math.abs(n.x-r.x),"X",r.x],[Math.abs(n.x-s.x),"X",s.x],[Math.abs(n.y-r.y),"Y",r.y],[Math.abs(n.y-s.y),"Y",s.y]];if(d.sort((function(t,e){return t[0]-e[0]})),"X"===d[0][1]){var l=Object(k.a)(d[0],3);n.x=l[2]}if("Y"===d[0][1]){var h=Object(k.a)(d[0],3);n.y=h[2]}}return n},when:"matching"})}},{key:"addEdge",value:function(t,e,n){var c,o,a=n.sourceEndpoint(),i=e.data("id"),r=t.data("id");if("special"!==t.data("type")){var s=(new Date).getTime();c=prompt(),o=function(){function t(){var t=Math.floor(256*Math.random()).toString(16);return"0".concat(String(t)).substr(-2)}return"#".concat(t()).concat(t()).concat(t())}(),this.addNode("",{"background-color":o},"special",a,s,{edgeName:c,edgeColor:o}),this.adE2(r,s,c,o,{"target-arrow-shape":"none"}),this.addAutoMove(this.cy.$("#".concat(s)),this.cy.$("#".concat(r))),r=s,this.getRealNode(s)}else c=t.data("edgeName"),o=t.data("edgeColor");n.remove(),this.adE2(r,i,c,o)}}]),t}()),I=n(1),M=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){"function"!==typeof y()("core","edgehandles")&&y.a.use(v.a),"function"!==typeof y()("core","automove")&&y.a.use(O.a),this.cy=y()(Object(l.a)(Object(l.a)({},w),{},{container:document.getElementById("cy")})),N.setCy(this.cy),window.cye=this.cy.edgehandles({preview:!1,handlePosition:function(){return"none"},complete:function(t,e,n){return N.addEdge(t,e,n)}}),N.addTestData()}},{key:"render",value:function(){return Object(I.jsx)("div",{style:{height:"100%",width:"100%"},id:"cy"})}}]),n}(o.a.Component),E=(n(36),function(t){var e=t.Icon,n=t.text,c=t.action,o=t.active;return Object(I.jsxs)("div",{role:"button",tabIndex:0,className:"tool ".concat(o?"active":""),onClick:c,onKeyDown:function(t){return 13===t.key&&c()},children:[Object(I.jsx)("div",{className:"icon",children:Object(I.jsx)(e,{size:"25"})}),Object(I.jsx)("div",{children:n})]})}),C=function(t){var e=t.children;return Object(I.jsx)("div",{className:"tool",style:{width:"auto"},children:Object(I.jsx)("div",{className:"middle tool-text-only",style:{fontSize:16,color:"#888",height:"100%"},children:e})})},D=function(){return Object(I.jsx)("div",{className:"Vsep sep"})},S=function(){return Object(I.jsx)("div",{className:"hsep sep"})},T=function(){return Object(I.jsx)("div",{className:"space"})},P=function(t){var e=t.children,n=t.title;return Object(I.jsxs)("header",{className:"header",children:[Object(I.jsx)("section",{className:"middle titlebar",children:"".concat(n," - DHGWorkflow Editor")}),Object(I.jsx)("section",{className:"toolbar",children:e}),Object(I.jsx)(S,{})]})},z=function(t){return t.action?N.addNode(prompt(),{},"ordin",{x:100,y:100}):alert("Dummy Action activated.")},B=function(){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(P,{title:"MyGraph",children:[Object(I.jsx)(E,{Icon:d.e,text:"Node",active:!0,action:function(){return z({action:1})}}),Object(I.jsx)(E,{Icon:d.b,text:"Edit",active:!0,action:z}),Object(I.jsx)(D,{}),Object(I.jsx)(E,{Icon:d.d,text:"Open",active:!0,action:z}),Object(I.jsx)(E,{Icon:d.g,text:"Save",active:!0,action:z}),Object(I.jsx)(D,{}),Object(I.jsx)(E,{Icon:d.i,text:"Undo",active:!0,action:z}),Object(I.jsx)(E,{Icon:d.f,text:"Redo",action:z}),Object(I.jsx)(D,{}),Object(I.jsx)(E,{Icon:d.h,text:"Delete",action:z}),Object(I.jsx)(D,{}),Object(I.jsx)(E,{Icon:s.b,text:"In",active:!0,action:z}),Object(I.jsx)(E,{Icon:s.a,text:"Out",active:!0,action:z}),Object(I.jsx)(E,{Icon:r.a,text:"Reset",active:!0,action:z}),Object(I.jsx)(C,{children:"100%"}),Object(I.jsx)(T,{}),Object(I.jsx)(E,{Icon:d.a,text:"JPG",active:!0,action:z}),Object(I.jsx)(E,{Icon:d.a,text:"PNG",active:!0,action:z}),Object(I.jsx)(D,{}),Object(I.jsx)(E,{Icon:d.c,text:"Export"})]}),Object(I.jsx)("section",{className:"body",children:Object(I.jsx)("div",{className:"graph-container",children:Object(I.jsx)(M,{})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),o(t),a(t),i(t)}))};i.a.render(Object(I.jsx)(o.a.StrictMode,{children:Object(I.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),F()}},[[37,1,2]]]);
//# sourceMappingURL=main.de7e8067.chunk.js.map