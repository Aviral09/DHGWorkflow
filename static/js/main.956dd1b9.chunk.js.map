{"version":3,"sources":["config/defaultStyles.js","config/cytoscape-style.js","config/cytoscape-options.js","reducer/actionType.js","component/ColorBox.jsx","component/NodeDetails.jsx","component/EdgeDetails.jsx","reducer/reducer.js","reducer/initialState.js","graph-builder/automove.js","graph-builder/index.js","graph-builder/tailored-graph-builder.js","graph-builder/core-graph-builder.js","component/ZoomSetter.jsx","graph.jsx","component/Modal.jsx","toolbarActions/toolbarFunctions.js","toolbarActions/toolbarList.js","component/Header.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx"],"names":["NodeStyle","width","height","shape","opacity","EdgeStyle","style","selector","content","label","backgroundColor","options","zoomingEnabled","userZoomingEnabled","minZoom","maxZoom","zealit","require","$$typeof","Model_Open_Create_Node","Model_Open_Create_Edge","Model_Open_Update_Edge","Model_Open_Update_Node","Model_Close","ELE_UNSELECTED","ELE_SELECTED","TURN_DRAW","SET_ZOOM","ColorBox","color","setColor","React","useState","visible","setVisible","role","tabIndex","className","onClick","onKeyDown","ev","key","background","display","onChangeComplete","x","hex","DefParentStyle","minHeight","justifyContent","alignItems","padding","DefNodeStyle","border","whiteSpace","NodeDetails","data","setData","submit","labelAllowed","borderColor","borderWidth","textValign","textHalign","borderRadius","ParentStyle","setStyle","prop","onSubmit","htmlFor","type","name","value","checked","onChange","required","placeholder","e","target","slice","Math","min","step","max","DefEdgeStyle","Triangle","size","s","parseInt","EqTriangle","borderLeft","borderBottom","borderTop","marginLeft","EdgeDetails","reducer","state","action","T","ModelOpen","modalPayload","title","submitText","Children","defaultStyle","defaultLabel","cb","eleSelected","eleSelectedPayload","payload","drawModeOn","zoomValue","initialState","Automove","getEq","P1","P2","m","y","getX1X2","Cn","P","w","h","this","c","A","B","C","D","getY1Y2","x1","x2","dist","getClosestEllipse","y1","y2","slope","getClosestRect","map","S1","S2","getClosest","g","addNode","juncNodeId","getById","incomers","filter","juncNode","parNode","cy","automove","nodesMatching","reposition","dragWith","autoMoveAction","node","pos","position","R","AutomoveFn","round","when","scratch","unselectify","sourceID","targetID","sourceNode","targetNode","sourceNodeStyle","juncNodePos","edgeLabel","edgeStyle","id","addAutoMove","addEdgeWithJuncNode","juncNodes","outgoers","length","addEdgeWithoutJuncNode","dispatcher","shouldUpdateLabel","junctionNode","source","updateData","updateNode","forEach","edge","el","isNode","connectedEdges","deleteElem","deleteNode","nodeID","getElementById","autoSaveIntervalId","window","cyx","selectDeselect","els","$","every","isEdge","ids","on","zoom","apply","saveLocalStorage","bind","start","found","nodes","i","nodePos","getPos","add","group","allStyles","styles","Object","entries","p","val","enable","cye","disable","deleteEdge","remove","reset","fit","v","format","saveAs","png","jpg","edgeID","graph","edges","shouldNodeBeSaved","nodeJson","json","getStyle","push","shouldEdgeBeSaved","edgeJson","getRealSourceId","str","JSON","stringify","jsonifyGraph","bytes","TextEncoder","encode","blob","Blob","elements","addEdge","autoSaveTimeoutId","clearTimeout","setTimeout","graphJson","serializedJson","localStorage","setItem","console","log","getItem","loadJson","parse","GraphOption","marks","ZoomComp","superState","cyFun","resetZoom","fitZoom","setZoom","included","GraphComp","graphContainerRef","createRef","graphRef","cytoscape","use","edgehandles","nodeEditing","Konva","gridGuide","current","offsetWidth","offsetHeight","cyOptions","container","resizeToContentCueEnabled","setWidth","css","setHeight","isNoResizeMode","isNoControlsMode","snapToGridOnRelease","props","setCy","setDispatcher","preview","handlePosition","complete","a","b","loadGraphFromLocalStorage","addTestData","xxx","flex","ref","zIndex","Component","ReactModal","setAppElement","Modal","closeModal","curClass","setCurClass","useEffect","handleCloseModal","isOpen","contentLabel","onRequestClose","overlayClassName","preventDefault","aria-hidden","createNode","_","setState","CyFun","editElement","getLabel","updateEdge","toggleDrawMode","enableDraw","downloadImg","saveAction","saveToDisk","readFile","files","fr","FileReader","onload","result","readAsText","dummyAction","alert","toolbarList","text","icon","FaPlus","active","FaFileImport","FaSave","FaUndo","FaRedo","FaEdit","FaTrash","FaDownload","DropDown","Icon","menuButton","FileUploader","fileRef","click","Switcher","ActionButton","fontSize","Vsep","Hsep","Space","Header","tool","accept","app","useReducer","Boolean","location","hostname","match","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.956dd1b9.chunk.js","sourcesContent":["const NodeStyle = {\n    width: '100px',\n    height: '50px',\n    shape: 'rectangle',\n    opacity: 1,\n    'background-color': '#e0f2f1',\n    'border-color': '#000',\n    'border-width': '2px',\n    'text-valign': 'center',\n    'text-halign': 'center',\n};\n\nconst EdgeStyle = {\n    'target-arrow-shape': 'triangle',\n    width: '2px',\n    'line-color': '#000',\n    'target-arrow-color': '#000',\n};\n\nexport { NodeStyle, EdgeStyle };\n","import { NodeStyle, EdgeStyle } from './defaultStyles';\n\nconst style = [\n    {\n        selector: 'node[type = \"ordin\"]',\n        style: {\n            content: 'data(label)',\n            ...NodeStyle,\n            'z-index': 100,\n        },\n    },\n\n    {\n        selector: 'edge',\n        style: {\n            'curve-style': 'bezier',\n            ...EdgeStyle,\n        },\n    },\n    {\n        selector: 'edge[label]',\n        style: {\n            label: 'data(label)',\n            width: 3,\n            'edge-text-rotation': 'autorotate',\n            'z-index': 999,\n            'text-margin-y': '10px',\n        },\n    },\n    {\n        selector: '.eh-handle',\n        style: {\n            'background-color': '#f00',\n            height: 20,\n            width: 20,\n            opacity: 0.5,\n        },\n    },\n    {\n        selector: 'node[type=\"special\"]',\n        style: {\n            width: 10,\n            height: 10,\n            backgroundColor: 'red',\n            'z-index': 1000,\n        },\n    },\n    {\n        selector: ':selected',\n        style: {\n            'overlay-color': '#000',\n            'overlay-opacity': 0.1,\n        },\n    },\n\n];\n\nexport default style;\n","import style from './cytoscape-style';\n\nconst options = {\n    style: [...style],\n    zoomingEnabled: true,\n    userZoomingEnabled: true,\n    minZoom: 0.25,\n    maxZoom: 5,\n};\n\nexport default options;\n","const zealit = require('zealit');\n\nconst actionType = {\n    $$typeof: '',\n    Model_Open_Create_Node: 'OpenModal_CreateNode',\n    Model_Open_Create_Edge: 'OpenModal_CreateEdge',\n    Model_Open_Update_Edge: 'OpenModal_UpdateEdge',\n    Model_Open_Update_Node: 'OpenModal_UpdateNode',\n    Model_Close: 'CloseModal',\n    ELE_UNSELECTED: 'ELE_UNSELECTED',\n    ELE_SELECTED: 'ELE_SELECTED',\n    TURN_DRAW: 'TURN_DRAW',\n    SET_ZOOM: 'SET_ZOOM',\n};\nexport default zealit(actionType);\n","import React from 'react';\nimport { TwitterPicker } from 'react-color';\n\nconst ColorBox = ({ color, setColor }) => {\n    const [visible, setVisible] = React.useState(false);\n    return (\n        <div\n            role=\"button\"\n            tabIndex={0}\n            className=\"color-box-par\"\n            onClick={() => !visible && setVisible(true)}\n            onKeyDown={(ev) => ev.key === 13 && (!visible && setVisible(true))}\n        >\n            <div className=\"color-box\" style={{ background: color }} />\n            <div\n                className=\"color-picker\"\n                style={{\n                    display: visible ? 'block' : 'none',\n                }}\n            >\n                {/* eslint-disable-next-line */}\n                <div role=\"button\" className=\"overlay\" onClick={() => setVisible(false)}></div>\n                <TwitterPicker color={color} onChangeComplete={(x) => setColor(x.hex)} />\n            </div>\n        </div>\n    );\n};\n\nexport default ColorBox;\n","import React from 'react';\nimport './nodeDetails.css';\nimport ColorBox from './ColorBox';\n\nconst DefParentStyle = {\n    height: '100px',\n    minHeight: '100px',\n    width: 'auto',\n    background: 'aliceblue',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '20px',\n};\n\nconst DefNodeStyle = {\n    border: '1px solid black',\n    width: '100px',\n    height: '50px',\n    backgroundColor: '#888',\n    display: 'inline-flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    whiteSpace: 'nowrap',\n};\n\nconst NodeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const NodeStyle = {\n        ...DefNodeStyle,\n        backgroundColor: data.style['background-color'],\n        borderColor: data.style['border-color'],\n        borderWidth: data.style['border-width'],\n        textValign: data.style['text-valign'],\n        textHalign: data.style['text-halign'],\n        width: data.style.width,\n        height: data.style.height,\n        opacity: data.style.opacity,\n        borderRadius: data.style.shape === 'ellipse' ? '100%' : 0,\n    };\n    const ParentStyle = { ...DefParentStyle, height: data.style.height };\n    const setStyle = (prop) => {\n        setData({\n            ...data,\n            style:\n            { ...data.style, ...prop },\n        });\n    };\n    return (\n        <div className=\"nodeform\" onSubmit={submit}>\n            <div style={ParentStyle}><div style={NodeStyle}>{labelAllowed ? data.label : ''}</div></div>\n            <div className=\"form\" style={{ padding: 20 }}>\n                <div> Shape</div>\n                <div>\n                    <label htmlFor=\"rectangle\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"rectangle\"\n                            checked={data.style.shape === 'rectangle'}\n                            onChange={() => setStyle({ shape: 'rectangle' })}\n                        />\n                        Rectangle\n                    </label>\n                </div>\n                <div>\n                    <label htmlFor=\"ellipse\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"ellipse\"\n                            checked={data.style.shape === 'ellipse'}\n                            onChange={() => setStyle({ shape: 'ellipse' })}\n                        />\n                        Ellipse\n                    </label>\n                </div>\n                <div />\n\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        className=\"nodeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Node Label\"\n                        value={data.label}\n                        placeholder=\"Enter Node Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width.slice(0, -2)}\n                    onChange={(e) => setStyle({ width: `${Math.min(500, e.target.value)}px` })}\n                />\n\n                <div> Height</div>\n                <input\n                    type=\"number\"\n                    value={data.style.height.slice(0, -2)}\n                    onChange={(e) => setStyle({ height: `${Math.min(200, e.target.value)}px` })}\n                />\n\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style['background-color']}\n                    setColor={(color) => setStyle({ 'background-color': color })}\n                />\n\n                <div> Border Color</div>\n                <ColorBox\n                    color={data.style['border-color']}\n                    setColor={(color) => setStyle({ 'border-color': color })}\n                />\n\n                <div> Border Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style['border-width'].slice(0, -2)}\n                    onChange={(e) => setStyle({ 'border-width': `${Math.min(30, e.target.value)}px` })}\n                />\n                <div> Opacity</div>\n                <input\n                    type=\"number\"\n                    step=\".01\"\n                    value={data.style.opacity}\n                    onChange={(e) => setStyle({ opacity: Math.min(1, Math.max(0, e.target.value)) })}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default NodeDetails;\n","import React from 'react';\nimport './edgeDetails.css';\nimport ColorBox from './ColorBox';\n\nconst DefParentStyle = {\n    height: '100px',\n    minHeight: '100px',\n    width: 'auto',\n    background: 'aliceblue',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '20px',\n};\n\nconst DefEdgeStyle = {\n    border: 'none',\n    width: '240px',\n    height: '2px',\n    backgroundColor: '#000',\n    display: 'inline-block',\n};\n\nconst Triangle = ({ size, color }) => {\n    const s = parseInt(size, 10) * 5;\n    const EqTriangle = {\n        borderLeft: `${0.8666 * s}px solid ${color}`,\n        borderBottom: `${s / 2}px solid transparent`,\n        borderTop: `${s / 2}px solid transparent`,\n        marginLeft: -1,\n    };\n    return (\n        <div style={EqTriangle} />\n    );\n};\n\nconst EdgeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    const EdgeStyle = {\n        ...DefEdgeStyle,\n        backgroundColor: data.style['line-color'],\n        height: data.style.width,\n    };\n    const ParentStyle = { ...DefParentStyle, height: data.style.height };\n    const setStyle = (prop) => {\n        setData({\n            ...data,\n            style:\n            { ...data.style, ...prop },\n        });\n    };\n    return (\n        <div className=\"edgeform\" onSubmit={submit}>\n            <div style={ParentStyle}>\n                <div style={EdgeStyle} />\n                <Triangle size={data.style.width.slice(0, -2)} color={data.style['line-color']} />\n                <div className=\"label\">{data.label}</div>\n            </div>\n            <div className=\"form\">\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        className=\"edgeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Edge Label\"\n                        value={data.label}\n                        placeholder=\"Enter Edge Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width.slice(0, -2)}\n                    onChange={(e) => setStyle({ width: `${Math.max(0, Math.min(20, e.target.value))}px` })}\n                />\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style['line-color']}\n                    setColor={(color) => setStyle({ 'line-color': color, 'target-arrow-color': color })}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default EdgeDetails;\n","import T from './actionType';\nimport NodeDetails from '../component/NodeDetails';\nimport EdgeDetails from '../component/EdgeDetails';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case T.Model_Open_Create_Node:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Node',\n                submitText: 'Create Node',\n                Children: NodeDetails,\n                defaultStyle: NodeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Create_Edge:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Edge',\n                submitText: 'Create Edge',\n                Children: EdgeDetails,\n                defaultStyle: EdgeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Update_Node: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Node',\n                submitText: 'Edit Node',\n                Children: NodeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Open_Update_Edge: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Edge',\n                submitText: 'Edit Edge',\n                Children: EdgeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Close: return { ...state, ModelOpen: false };\n    case T.ELE_SELECTED: return { ...state, eleSelected: true, eleSelectedPayload: action.payload };\n    case T.ELE_UNSELECTED: return { ...state, eleSelected: false };\n    case T.TURN_DRAW: return { ...state, drawModeOn: action.payload };\n\n    case T.SET_ZOOM: return { ...state, zoomValue: action.payload };\n    default:\n        return state;\n    }\n};\nexport default reducer;\n","const initialState = {\n    ModelOpen: false,\n    eleSelected: false,\n    drawModeOn: true,\n    zoomValue: 100,\n};\n\nexport default initialState;\n","const Automove = {\n    getEq(P1, P2) {\n        const m = (P1.y - P2.y) / (P1.x - P2.x);\n        const c = P1.y - m * P1.x;\n        return [m, c];\n    },\n    getX1X2(Cn, P, w, h) {\n        if (Cn.x === P.x) return [P.x, P.x];\n        const P2 = { x: P.x - Cn.x, y: P.y - Cn.y };\n        const [m, c] = this.getEq({ x: 0, y: 0 }, P2);\n        // (𝑎2𝑚2+𝑏2)𝑥2+2𝑎2𝑚𝑐𝑥+𝑎2(𝑐2–𝑏2)\n        const A = (w ** 2 * m ** 2 + h ** 2);\n        const B = 2 * w ** 2 * m * c;\n        const C = w ** 2 * (c ** 2 - h ** 2);\n        const D = B ** 2 - 4 * A * C;\n        const x1 = (-B + D ** 0.5) / (2 * A) + Cn.x;\n        const x2 = (-B - D ** 0.5) / (2 * A) + Cn.x;\n        return [x1, x2];\n    },\n    getY1Y2(C, P, w, h, x1, x2) {\n        if (x1 === x2) return [C.y + h, C.y - h];\n        const [m, c] = this.getEq(C, P);\n        return [m * x1 + c, m * x2 + c];\n    },\n    dist(A, B) {\n        return ((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5;\n    },\n    getClosestEllipse(C, P, w, h) {\n        const [x1, x2] = this.getX1X2(C, P, w, h);\n        const [y1, y2] = this.getY1Y2(C, P, w, h, x1, x2);\n        const [d1, d2] = [this.dist(P, { x: x1, y: y1 }), this.dist(P, { x: x2, y: y2 })];\n        if (d1 < d2) return { x: x1, y: y1 };\n        return { x: x2, y: y2 };\n    },\n    slope(x1, y1, x2, y2) {\n        return (x1 - x2) / (y1 - y2);\n    },\n    getClosestRect(C, P, w, h) {\n        const [S1, S2] = [[C.x + w, C.y + h], [C.x + w, C.y - h]]\n            .map(([x, y]) => (C.x - x) * (P.y - y) - (C.y - y) * (P.x - x));\n        let x;\n        let y;\n        const [m, c] = this.getEq(P, C);\n        const D = [ // To point to center\n            [(C.y - h - c) / m, C.y - h],\n            [C.x + w, m * (C.x + w) + c],\n            [C.x - w, m * (C.x - w) + c],\n            [(C.y + h - c) / m, C.y + h],\n        ];\n        // const D = [\n        //     [Math.min(C.x + w, Math.max(C.x - w, P.x)), C.y - h],\n        //     [C.x + w, Math.min(C.y + h, Math.max(C.y - h, P.y))],\n        //     [C.x - w, Math.min(C.y + h, Math.max(C.y - h, P.y))],\n        //     [Math.min(C.x + w, Math.max(C.x - w, P.x)), C.y + h],\n        // ];\n\n        if (S1 <= 0 && S2 <= 0) [,,, [x, y]] = D;\n        else if (S1 >= 0 && S2 <= 0) [, [x, y]] = D;\n        else if (S1 >= 0 && S2 >= 0) [[x, y]] = D;\n        else if (S1 <= 0 && S2 >= 0) [,, [x, y]] = D;\n\n        return x && y ? { x, y } : P;\n    },\n    getClosest(C, P, w, h, type) {\n        if (type === 'rectangle') return this.getClosestRect(C, P, w, h);\n        return this.getClosestEllipse(C, P, w, h);\n    },\n\n};\n\nexport default Automove;\n","import TailoredGraphBuilder from './tailored-graph-builder';\n\nconst g = new TailoredGraphBuilder();\n\nexport default g;\n","import CoreGraph from './core-graph-builder';\nimport { actionType as T } from '../reducer';\nimport AutomoveFn from './automove';\n\nclass TailoredGraph extends CoreGraph {\n    addTestData() {\n        this.addNode('A', {}, 'ordin', { x: 100, y: 100 });\n        this.addNode('B', {}, 'ordin', { x: 500, y: 100 });\n        return this;\n    }\n\n    getRealNode(juncNodeId) {\n        return this.getById(juncNodeId).incomers().filter('node')[0];\n    }\n\n    addAutoMove(juncNode, parNode) {\n        this.cy.automove({\n            nodesMatching: juncNode,\n            reposition: 'drag',\n            dragWith: parNode,\n        });\n        const autoMoveAction = this.cy.automove({\n            nodesMatching: juncNode,\n            reposition(node) {\n                const pos = node.position();\n                const P = parNode.position();\n                const [h, w] = [parNode.height(), parNode.width()];\n                const R = AutomoveFn.getClosest(P, pos, w / 2, h / 2, parNode.style().shape);\n                return { x: Math.round(R.x), y: Math.round(R.y) };\n            },\n            when: 'matching',\n        });\n        parNode.scratch('automove', [autoMoveAction]);\n        juncNode.unselectify();\n    }\n\n    addEdgeWithJuncNode(sourceID, targetID) {\n        const sourceNode = this.getById(sourceID);\n        return super.addEdge(sourceID, targetID, sourceNode.data('edgeLabel'), sourceNode.data('edgeStyle'));\n    }\n\n    addEdgeWithoutJuncNode(sourceID, targetID, label, style) {\n        const sourceNode = this.getById(sourceID);\n        const targetNode = this.getById(targetID);\n        const sourceNodeStyle = sourceNode.style();\n        const juncNodePos = AutomoveFn.getClosest(\n            sourceNode.position(),\n            targetNode.position(),\n            parseInt(sourceNodeStyle.width.slice(0, -2), 10) / 2,\n            parseInt(sourceNodeStyle.height.slice(0, -2), 10) / 2,\n            sourceNodeStyle['target-arrow-shape'],\n        );\n        const juncNode = super.addNode('', { 'background-color': style['line-color'] },\n            'special', juncNodePos, { edgeLabel: label, edgeStyle: style });\n        super.addEdge(sourceID, juncNode.id(), '', {\n            ...style,\n            'target-arrow-shape': 'none',\n        }, 'special');\n        this.addAutoMove(juncNode, sourceNode);\n        return this.addEdgeWithJuncNode(juncNode.id(), targetID);\n    }\n\n    addEdge(sourceID, targetID, label = '', style) {\n        const sourceNode = this.getById(sourceID);\n        if (sourceNode.data('type') === 'special') return this.addEdgeWithJuncNode(sourceID, targetID);\n        const juncNodes = sourceNode.outgoers('node').filter((node) => node.data('edgeLabel') === label);\n        if (juncNodes.length) return this.addEdgeWithJuncNode(juncNodes[0].id(), targetID);\n        if (label.length) return this.addEdgeWithoutJuncNode(sourceID, targetID, label, style);\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => this.addEdgeWithoutJuncNode(sourceID, targetID, edgeLabel, edgeStyle),\n        });\n        return this;\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel) {\n        const junctionNode = this.getById(id).source();\n        if (shouldUpdateLabel) this.updateData(junctionNode.data('id'), 'edgeLabel', label);\n        this.updateData(junctionNode.data('id'), 'edgeStyle', style);\n        this.updateNode([junctionNode.data('id')], { 'background-color': style['line-color'] }, '', false);\n\n        junctionNode\n            .outgoers('edge')\n            .forEach((edge) => super.updateEdge(edge.data('id'), style, label, shouldUpdateLabel));\n    }\n\n    deleteElem(id) {\n        const el = this.getById(id);\n        if (el.isNode()) {\n            el.outgoers().forEach((x) => super.deleteElem(x.id()));\n            el.connectedEdges().forEach((x) => this.deleteElem(x.id()));\n            super.deleteNode(id);\n        } else {\n            const junctionNode = el.source();\n            super.deleteEdge(id);\n            if (junctionNode.outgoers().length === 0) this.deleteNode(junctionNode.id());\n        }\n    }\n\n    getRealSourceId(nodeID) {\n        return this.getById(nodeID).incomers('node')[0].id();\n    }\n}\n\nexport default TailoredGraph;\n","import { saveAs } from 'file-saver';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\nimport { actionType as T } from '../reducer';\n\nclass CoreGraph {\n    getById(x) {\n        return this.cy.getElementById(x);\n    }\n\n    addTestData() { return this; }\n\n    setCy(cy) {\n        this.cy = cy;\n        this.autoSaveIntervalId = null;\n        window.cyx = cy;\n\n        const selectDeselect = () => {\n            const els = this.cy.$(':selected');\n            if (els.length === 0) { return this.dispatcher({ type: T.ELE_UNSELECTED }); }\n            let type;\n            if (els.every((e) => e.isNode())) type = 'NODE';\n            else if (els.every((e) => e.isEdge())) type = 'EDGE';\n            else type = 'MIX';\n            const ids = els.map((e) => e.data('id'));\n            return this.dispatcher({\n                type: T.ELE_SELECTED,\n                payload: {\n                    ids, type,\n                },\n            });\n        };\n        this.cy.on('select', selectDeselect);\n        this.cy.on('unselect', selectDeselect);\n        this.cy.on('zoom', (e) => {\n            this.dispatcher({ type: T.SET_ZOOM, payload: Math.round(100 * e.target.zoom()) });\n        });\n        this.cy.on('nodeediting.resizeend', (e, type, node) => {\n            if (node.scratch('automove')) {\n                node.scratch('automove').forEach((x) => {\n                    x.apply();\n                });\n            }\n        });\n        this.cy.on('position', this.saveLocalStorage.bind(this));\n    }\n\n    setDispatcher(dispatcher) {\n        this.dispatcher = dispatcher;\n    }\n\n    getPos() {\n        const start = { x: 100, y: 100 };\n        let found = true;\n        while (found) {\n            found = false;\n            const nodes = this.cy.$('node');\n            for (let i = 0; i < nodes.length; i += 1) {\n                const nodePos = nodes[i].position();\n                found = found || (nodePos.x === start.x && nodePos.y === start.y);\n            }\n            if (found) {\n                start.x += 10;\n                start.y += 10;\n            }\n        }\n        return start;\n    }\n\n    addNode(label, style, type = 'ordin', position = this.getPos(), data = {}) {\n        this.saveLocalStorage();\n        return this.cy.add({\n            group: 'nodes',\n            data: {\n                label, type, ...data,\n            },\n            style,\n            position,\n        });\n    }\n\n    addEdge(source, target, label, style = {}, type = 'ordin') {\n        this.saveLocalStorage();\n        return this.cy.add({\n            group: 'edges',\n            data: {\n                source, target, label, type,\n            },\n            style,\n        });\n    }\n\n    getStyle(id) {\n        const el = this.getById(id);\n        const allStyles = el.style();\n        const styles = {};\n        if (el.isNode) Object.entries(NodeStyle).forEach((p) => { styles[p[0]] = allStyles[p[0]]; });\n        if (el.isEdge) Object.entries(EdgeStyle).forEach((p) => { styles[p[0]] = allStyles[p[0]]; });\n        return styles;\n    }\n\n    getLabel(id) {\n        return this.getById(id).data('label') || this.getById(id).data('label');\n    }\n\n    updateNode(id, style, label, shouldUpdateLabel) {\n        this.saveLocalStorage();\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).style(style);\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel) {\n        this.saveLocalStorage();\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).style(style);\n    }\n\n    updateData(id, key, val) {\n        this.saveLocalStorage();\n        this.getById(id).data(key, val);\n        return this;\n    }\n\n    modifyNewEdge() { return this; }\n\n    enableDraw(enable) {\n        if (enable) window.cye.enable();\n        else window.cye.disable();\n        return this;\n    }\n\n    deleteNode(id) {\n        const el = this.getById(id);\n        el.connectedEdges().forEach((edge) => this.deleteEdge(edge.id()));\n        el.remove();\n    }\n\n    deleteEdge(id) {\n        this.getById(id).remove();\n    }\n\n    deleteElem(id) {\n        this.saveLocalStorage();\n        if (this.getById(id).isNode()) return this.deleteNode(id);\n        return this.deleteEdge(id);\n    }\n\n    resetZoom() {\n        this.cy.reset();\n    }\n\n    fitZoom() {\n        this.cy.fit();\n    }\n\n    setZoom(v) {\n        this.cy.zoom(v / 100);\n    }\n\n    downloadImg(format) {\n        if (format === 'PNG') saveAs(this.cy.png(), 'graph.png');\n        if (format === 'JPG') saveAs(this.cy.jpg(), 'graph.jpg');\n    }\n\n    shouldNodeBeSaved(nodeID) {\n        return this.getById(nodeID).data('type') === 'ordin';\n    }\n\n    shouldEdgeBeSaved(edgeID) {\n        return this.getById(edgeID).data('type') === 'ordin';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getRealSourceId(nodeID) {\n        return nodeID;\n    }\n\n    jsonifyGraph() {\n        const graph = { nodes: [], edges: [] };\n        this.cy.nodes().forEach((node) => {\n            if (this.shouldNodeBeSaved(node.id())) {\n                const nodeJson = node.json();\n                nodeJson.style = this.getStyle(node.id());\n                graph.nodes.push(nodeJson);\n            }\n        });\n        this.cy.edges().forEach((edge) => {\n            if (this.shouldEdgeBeSaved(edge.id())) {\n                const edgeJson = edge.json();\n                edgeJson.style = this.getStyle(edge.id());\n                edgeJson.data.source = this.getRealSourceId(edge.source().id());\n                graph.edges.push(edgeJson);\n            }\n        });\n        return graph;\n    }\n\n    saveToDisk() {\n        const str = JSON.stringify(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], {\n            type: 'application/json;charset=utf-8',\n        });\n        saveAs(blob, 'graph.json');\n    }\n\n    loadJson(content) {\n        this.cy.elements().remove();\n        content.nodes.forEach((node) => {\n            this.addNode(node.data.label, node.style, 'ordin', node.position, node.data);\n        });\n        content.edges.forEach((edge) => {\n            this.addEdge(edge.data.source, edge.data.target, edge.data.label, edge.style);\n        });\n    }\n\n    saveLocalStorage() {\n        if (this.autoSaveTimeoutId !== null) clearTimeout(this.autoSaveIntervalId);\n        this.autoSaveIntervalId = setTimeout(() => {\n            const graphJson = this.jsonifyGraph();\n            const serializedJson = JSON.stringify(graphJson);\n            window.localStorage.setItem('serializedGraph', serializedJson);\n            // eslint-disable-next-line no-console\n            console.log('Saving graph locally');\n        }, 1000);\n    }\n\n    loadGraphFromLocalStorage() {\n        if (window.localStorage.getItem('serializedGraph') === null) return false;\n        this.loadJson(JSON.parse(window.localStorage.getItem('serializedGraph')));\n        return true;\n    }\n}\n\nexport default CoreGraph;\n","import Slider from 'rc-slider';\nimport React from 'react';\nimport { BiReset, BiRectangle } from 'react-icons/bi';\nimport { actionType as T } from '../reducer';\nimport cyFun from '../graph-builder';\nimport 'rc-slider/assets/index.css';\nimport './zoomSetter.css';\nimport GraphOption from '../config/cytoscape-options';\n\nconst { minZoom, maxZoom } = GraphOption;\nconst marks = {};\n\nconst ZoomComp = ({ dispatcher, superState }) => (\n    <div>\n        <div className=\"zoom-comp\">\n            <div\n                role=\"button\"\n                tabIndex={0}\n                className=\"zoom-box zoom-btn\"\n                onClick={() => cyFun.resetZoom()}\n                onKeyDown={(ev) => ev.key === 13 && (cyFun.resetZoom())}\n            >\n                <BiReset />\n\n            </div>\n            <div\n                role=\"button\"\n                tabIndex={0}\n                className=\"zoom-box zoom-btn\"\n                onClick={() => cyFun.fitZoom()}\n                onKeyDown={(ev) => ev.key === 13 && (cyFun.resetZoom())}\n            >\n                <BiRectangle />\n\n            </div>\n            <div className=\"zoom-box zoom-value\">\n                {superState.zoomValue}\n                %\n            </div>\n            <div className=\"slider\">\n                <Slider\n                    min={100 * minZoom}\n                    max={100 * maxZoom}\n                    marks={marks}\n                    onChange={(value) => { cyFun.setZoom(value); dispatcher({ type: T.SET_ZOOM, payload: value }); }}\n                    included={false}\n                    value={superState.zoomValue}\n                />\n            </div>\n        </div>\n    </div>\n);\n\nexport default ZoomComp;\n","/* eslint-disable */\nimport React from 'react';\nimport cytoscape from 'cytoscape';\nimport edgehandles from 'cytoscape-edgehandles';\nimport automove from 'cytoscape-automove';\nimport gridGuide from 'cytoscape-grid-guide';\nimport cyOptions from './config/cytoscape-options';\nimport cyFun from './graph-builder';\nimport ZoomComp from './component/ZoomSetter';\nimport Konva from 'konva';\nimport nodeEditing from 'cytoscape-node-editing'\nimport $ from \"jquery\";\n\nclass GraphComp extends React.Component {\n    constructor() {\n        super();\n        this.graphContainerRef = React.createRef();\n        this.graphRef = React.createRef();\n    }\n    componentDidMount() {\n        if (typeof cytoscape('core', 'edgehandles') !== 'function') {\n            cytoscape.use(edgehandles);\n        }\n        if (typeof cytoscape('core', 'nodeEditing') !== 'function') {\n            nodeEditing(cytoscape, $, Konva);\n        }\n        if (typeof cytoscape('core', 'gridGuide') !== 'function') {\n            gridGuide(cytoscape);\n        }\n        if (typeof cytoscape('core', 'automove') !== 'function') {\n            cytoscape.use(automove);\n        }\n        this.graphRef.current.style.width = this.graphContainerRef.current.offsetWidth + \"px\"\n        this.graphRef.current.style.height = this.graphContainerRef.current.offsetHeight + \"px\"\n        this.cy = cytoscape({ ...cyOptions, container: this.graphRef.current });\n        this.cy.nodeEditing({ \n            resizeToContentCueEnabled: () => false, \n            setWidth: function(node, width) { \n                if(node.data('type')!='special') node.css('width', width);\n            },\n            setHeight: function(node, height) {\n                if(node.data('type')!='special') node.css('height', height);\n            }, \n            isNoResizeMode: function (node) { return node.data('type')==='special' }, \n            isNoControlsMode: function (node) { return node.data('type')==='special' },\n        });\n\n        this.cy.gridGuide({snapToGridOnRelease :false});\n        const { dispatcher } = this.props;\n        cyFun.setCy(this.cy);\n        cyFun.setDispatcher(dispatcher);\n        window.cye = this.cy.edgehandles({\n            preview: false,\n            handlePosition() {\n                return 'none';\n            },\n            complete: (a, b, c) => {c.remove() ; cyFun.addEdge(a.id(), b.id())},\n        });\n        if(!cyFun.loadGraphFromLocalStorage()){\n            cyFun.addTestData();\n        }\n        window.xxx=cyFun\n    }\n\n    render() {\n        const { dispatcher, superState } = this.props;\n        return (\n            <div className=\"graph-container\" style={{ flex: 1 }} ref={this.graphContainerRef}>\n                <div style={{ zIndex: 1 }} id=\"cy\" ref={this.graphRef} />\n                <ZoomComp dispatcher={dispatcher} superState={superState} />\n            </div>\n        );\n    }\n}\n\nexport default GraphComp;\n","import React, { useState, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './modal.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({ closeModal, superState }) => {\n    const [curClass, setCurClass] = useState('');\n    const [data, setData] = useState({});\n    const { modalPayload, ModelOpen } = superState;\n    const {\n        cb, title, submitText, Children, defaultStyle, defaultLabel, labelAllowed,\n    } = modalPayload;\n\n    useEffect(() => {\n        setData({ label: defaultLabel || '', style: defaultStyle });\n        if (ModelOpen === true) {\n            setCurClass('closing');\n            setTimeout(() => {\n                setCurClass('');\n            }, 20);\n        }\n    }, [ModelOpen]);\n\n    const handleCloseModal = () => {\n        setCurClass('closing');\n        setTimeout(() => {\n            closeModal();\n        }, 400);\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        cb(data.label, data.style);\n        handleCloseModal();\n    };\n\n    return (\n        <ReactModal\n            isOpen={ModelOpen}\n            contentLabel=\"onRequestClose Example\"\n            onRequestClose={handleCloseModal}\n            className=\"Modal\"\n            overlayClassName={`Overlay ${curClass}`}\n        >\n            <form onSubmit={submit}>\n                <div className={`modal-content ${curClass}`}>\n                    <div className=\"modal-header\">\n                        <div className=\"modal-title h4\">{title}</div>\n                        <button type=\"button\" className=\"close\" onClick={handleCloseModal}>\n                            <span aria-hidden=\"true\">×</span>\n                            <span className=\"sr-only\">Close</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-content-body\">\n                        <Children data={data} setData={setData} labelAllowed={labelAllowed} />\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"submit\" className=\"btn btn-primary\">{submitText}</button>\n                    </div>\n                </div>\n            </form>\n        </ReactModal>\n    );\n};\nexport default Modal;\n","import CyFun from '../graph-builder';\nimport { actionType as T } from '../reducer';\n\nconst createNode = (_, setState) => {\n    setState({\n        type: T.Model_Open_Create_Node,\n        cb: (label, style) => {\n            CyFun.addNode(label, style);\n        },\n    });\n};\n\nconst editElement = (state, setState) => {\n    const shouldUpdateLabel = state.eleSelectedPayload.ids.length === 1;\n    if (state.eleSelectedPayload.type === 'NODE') {\n        setState({\n            type: T.Model_Open_Update_Node,\n            cb: (label, style) => state.eleSelectedPayload.ids.forEach(\n                (id) => CyFun.updateNode(id, style, label, shouldUpdateLabel),\n            ),\n            labelAllowed: shouldUpdateLabel,\n            label: CyFun.getLabel(state.eleSelectedPayload.ids[0]),\n            style: CyFun.getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n    if (state.eleSelectedPayload.type === 'EDGE') {\n        setState({\n            type: T.Model_Open_Update_Edge,\n            cb: (label, style) => state.eleSelectedPayload.ids.forEach(\n                (id) => CyFun.updateEdge(id, style, label, shouldUpdateLabel),\n            ),\n            labelAllowed: shouldUpdateLabel,\n            label: CyFun.getLabel(state.eleSelectedPayload.ids[0]),\n            style: CyFun.getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n};\n\nconst toggleDrawMode = (state, setState) => {\n    CyFun.enableDraw(!state.drawModeOn);\n    setState({ type: T.TURN_DRAW, payload: !state.drawModeOn });\n};\n\nconst deleteElem = (state) => {\n    state.eleSelectedPayload.ids.forEach((id) => CyFun.deleteElem(id));\n};\n\nconst downloadImg = (state, setState, format) => {\n    CyFun.downloadImg(format);\n};\n\nconst saveAction = () => {\n    CyFun.saveToDisk();\n};\n\nconst readFile = (e) => {\n    if (e.target && e.target.files && e.target.files[0]) {\n        const fr = new FileReader();\n        fr.onload = (x) => {\n            CyFun.loadJson(JSON.parse(x.target.result));\n        };\n        fr.readAsText(e.target.files[0]);\n    }\n};\n// eslint-disable-next-line no-alert\nconst dummyAction = (x) => alert(x);\n\nexport {\n    createNode, dummyAction, editElement, toggleDrawMode, deleteElem, downloadImg, saveAction, readFile,\n};\n","/* eslint-disable object-curly-newline */\nimport {\n    FaSave, FaUndo, FaRedo, FaTrash, FaFileImport, FaPlus, FaDownload, FaEdit,\n} from 'react-icons/fa';\nimport {\n    dummyAction, createNode, editElement, toggleDrawMode, deleteElem, downloadImg, saveAction, readFile,\n} from './toolbarFunctions';\n\nconst toolbarList = (state) => [\n    { type: 'action', text: 'Node', icon: FaPlus, action: createNode, active: true },\n    { type: 'vsep' },\n    { type: 'file-upload', text: 'Open', icon: FaFileImport, action: readFile, active: true },\n    { type: 'action', text: 'Save', icon: FaSave, action: saveAction, active: true },\n    { type: 'vsep' },\n    { type: 'action', text: 'Undo', icon: FaUndo, action: dummyAction, active: false },\n    { type: 'action', text: 'Redo', icon: FaRedo, action: dummyAction, active: false },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Edit',\n        icon: FaEdit,\n        action: editElement,\n        active: (state.eleSelected && state.eleSelectedPayload.type !== 'MIX'),\n    },\n    { type: 'action', text: 'Delete', icon: FaTrash, action: deleteElem, active: state.eleSelected },\n    { type: 'vsep' },\n    { type: 'switch', text: 'Draw', action: toggleDrawMode, active: state.drawModeOn },\n    { type: 'space' },\n    { type: 'menu', text: 'Download', icon: FaDownload, action: downloadImg, active: true },\n    { type: 'vsep' },\n    // { type: 'action', text: 'Export', icon: FaFileExport, action: dummyAction, active: false },\n];\n\nexport default toolbarList;\n","import React from 'react';\nimport Switch from 'rc-switch';\n\nimport 'rc-switch/assets/index.css';\nimport {\n    Menu,\n    MenuItem,\n    MenuButton,\n} from '@szhsin/react-menu';\nimport toolbarList from '../toolbarActions/toolbarList';\nimport '@szhsin/react-menu/dist/index.css';\nimport './header.css';\n\nfunction DropDown({\n    Icon, text, action, active, tabIndex,\n}) {\n    return (\n        <Menu menuButton={(\n            <MenuButton>\n                <ActionButton {...{\n                    Icon, text, action, active, tabIndex,\n                }}\n                />\n            </MenuButton>\n        )}\n        >\n            <MenuItem onClick={() => action('JPG')}>JPG</MenuItem>\n            <MenuItem onClick={() => action('PNG')}>PNG</MenuItem>\n        </Menu>\n    );\n}\n\nconst FileUploader = ({\n    Icon, text, action, active, tabIndex,\n}) => {\n    const fileRef = React.createRef();\n    return (\n        <>\n            <input type=\"file\" ref={fileRef} style={{ display: 'none' }} onChange={action} />\n            <ActionButton {...{\n                Icon, text, active, tabIndex, action: () => fileRef.current.click(),\n            }}\n            />\n        </>\n    );\n};\n\nconst Switcher = ({\n    text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={action}\n        onKeyDown={(ev) => ev.key === 13 && action()}\n    >\n        <Switch\n            onChange={action}\n            checked={active}\n            className=\"react-switch\"\n        />\n        <div>\n            {text}\n        </div>\n    </div>\n);\n\nconst ActionButton = ({\n    Icon, text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={() => (active && action())}\n        onKeyDown={(ev) => ev.key === 13 && action()}\n    >\n        <div className=\"icon\"><Icon size=\"25\" /></div>\n        <div style={{ fontSize: 16 }}>{text}</div>\n    </div>\n);\n\nconst TextBox = ({ children }) => (\n    <div className=\"tool\" style={{ width: 'auto' }}>\n        <div className=\"middle tool-text-only\" style={{ fontSize: 16, color: '#888', height: '100%' }}>\n            {children}\n        </div>\n    </div>\n);\n\nconst Vsep = () => <div className=\"Vsep sep\" />;\nconst Hsep = () => <div className=\"hsep sep\" />;\nconst Space = () => <div className=\"space\" />;\n\nconst Header = ({ title, state, dispatcher }) => (\n    <header className=\"header\">\n        <section className=\"middle titlebar\">\n            {`${title} - DHGWorkflow Editor`}\n        </section>\n        <section className=\"toolbar\">\n            {\n                toolbarList(state, dispatcher).map((tool, i) => {\n                    if (tool.type === 'vsep') return <Vsep key={`${`v${i}`}`} />;\n                    if (tool.type === 'space') return <Space key={`${`s${i}`}`} />;\n                    if (tool.type === 'switch') {\n                        return (\n                            <Switcher\n                                text={tool.text}\n                                active={tool.active}\n                                action={() => tool.action(state, dispatcher)}\n                                key={tool.text}\n                                tabIndex={i + 1}\n                            />\n                        );\n                    }\n                    if (tool.type === 'menu') {\n                        return (\n                            <DropDown\n                                Icon={tool.icon}\n                                text={tool.text}\n                                active={tool.active}\n                                action={(e) => tool.action(state, dispatcher, e)}\n                                key={tool.text}\n                                tabIndex={i + 1}\n                            />\n                        );\n                    }\n                    if (tool.type === 'file-upload') {\n                        return (\n                            <FileUploader\n                                Icon={tool.icon}\n                                text={tool.text}\n                                active={tool.active}\n                                action={(e) => tool.action(e, state, dispatcher)}\n                                key={tool.text}\n                                tabIndex={i + 1}\n                            />\n                        );\n                    }\n                    return (\n                        <ActionButton\n                            Icon={tool.icon}\n                            text={tool.text}\n                            active={tool.active}\n                            action={() => tool.action(state, dispatcher)}\n                            key={tool.text}\n                            tabIndex={i + 1}\n                        />\n                    );\n                })\n            }\n            <input type=\"file\" id=\"fileUploader\" style={{ display: 'none' }} accept=\".jpg, .jpeg, .png\" />\n        </section>\n        <Hsep />\n    </header>\n\n);\n\n// var fr = new FileReader();\n// fr.onload = function(e) {\n//     console.log(e.target.result);\n// };\n// fr.readAsText(file);\nexport {\n    Header, ActionButton, Vsep, Hsep, Space, TextBox,\n};\n","import React, { useReducer } from 'react';\nimport './App.css';\nimport GraphComp from './graph';\nimport Modal from './component/Modal';\nimport { Header } from './component/Header';\nimport { reducer, initialState, actionType as T } from './reducer';\n\nconst app = () => {\n    const [superState, dispatcher] = useReducer(reducer, initialState);\n    return (\n        <div className=\"container\">\n            {superState.ModelOpen ? (\n                <Modal\n                    closeModal={() => dispatcher({ type: T.Model_Close })}\n                    superState={superState}\n                />\n            ) : ''}\n            <Header title=\"MyGraph\" state={superState} dispatcher={dispatcher} />\n            <section className=\"body\" style={{ display: 'flex' }}>\n                <GraphComp dispatcher={dispatcher} superState={superState} />\n            </section>\n        </div>\n    );\n};\n\nexport default app;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({\n            getCLS, getFID, getFCP, getLCP, getTTFB,\n        }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}